window.Digitimate=function(){"use strict";var e=function(e){return new Promise(function(r,n){var t=new XMLHttpRequest;t.open("POST",e,!0),t.onload=function(){var e,o=t.responseText;try{e=JSON.parse(o)}catch(s){e={err:"Couldn't parse response"}}if(t.status>=200&&t.status<400)r(e);else{var i=new Error(e.err||"Unknown error");i.status=t.status,i.data=e,n(i)}},t.onerror=function(){n(new Error("Error sending request to Digitimate server"))},t.send()})},r=function(e,r,n){for(var t=Object.keys(n),o=[],s=0;s<t.length;s++){var i=t[s],c=encodeURIComponent(i)+"="+encodeURIComponent(n[i]);o.push(c)}var a=e+r+"?"+o.join("&");return a},n=function(e,r){for(var n=Object.keys(r),t=0;t<n.length;t++){var o=r[t];if(null==e[o])throw new Error("Missing required argument: `"+o+"`")}},t=function(e){n(e,["developerEmail","userMobileNumber"]);var t=window.Digitimate.baseUrl;return r(t,"sendCode",e)},o=function(e){n(e,["developerEmail","userMobileNumber","code"]);var t=window.Digitimate.baseUrl;return r(t,"checkCode",e)},s=function(r,n){var s;switch(r){case"sendCode":s=t(n);break;case"checkCode":s=o(n)}return e(s)},i=function(e){return s("sendCode",e)},c=function(e){return s("checkCode",e)};return{baseUrl:"http://digitimate.com/",sendCodeUrl:t,checkCodeUrl:o,sendCodeAsync:i,checkCodeAsync:c,postAsync:e}}();